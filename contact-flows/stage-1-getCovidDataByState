{"modules":[{"id":"62d84273-19de-41ce-8b20-b90c78636920","type":"PlayPrompt","branches":[{"condition":"Success","transition":"3ee00239-2d24-4c93-a293-8949360a2057"}],"parameters":[{"name":"Text","value":"Failed to transfer, please try calling again.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1400,"y":528},"useDynamic":false}},{"id":"3ee00239-2d24-4c93-a293-8949360a2057","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1630,"y":549}}},{"id":"b6ccb0c3-c60a-4621-a4fa-79b5afea4579","type":"Transfer","branches":[{"condition":"Error","transition":"62d84273-19de-41ce-8b20-b90c78636920"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:us-east-1:613062595008:instance/d808c6ca-1bee-44ee-be2b-12c5fa45c577/contact-flow/8f9229b4-8df4-4284-938b-98220925a2ad","resourceName":"stage-2-establish-patient-queue"}],"metadata":{"position":{"x":1157,"y":532},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:us-east-1:613062595008:instance/d808c6ca-1bee-44ee-be2b-12c5fa45c577/contact-flow/8f9229b4-8df4-4284-938b-98220925a2ad","text":"stage-2-establish-patient-queue"}},"target":"Flow"},{"id":"1b9a1e90-a330-450b-85a9-dcad8ef3b045","type":"PlayPrompt","branches":[{"condition":"Success","transition":"b6ccb0c3-c60a-4621-a4fa-79b5afea4579"}],"parameters":[{"name":"Text","value":"Now returning you to the main menu.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":923,"y":526},"useDynamic":false}},{"id":"2bfcfc55-5132-4c42-a31f-e271019ae122","type":"PlayPrompt","branches":[{"condition":"Success","transition":"1b9a1e90-a330-450b-85a9-dcad8ef3b045"}],"parameters":[{"name":"Text","value":"As up today, the total positive cases in the state of  $.External.state is,  $.External.totalPositive.  Total currently hospitalized is, $.External.totalHospitalized.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1234,"y":116},"useDynamic":false}},{"id":"35c77601-311e-4e0b-85a5-883381ac2655","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"unknown","transition":"431f29e2-cca7-44e4-a449-90a38c2d327b"},{"condition":"NoMatch","transition":"2bfcfc55-5132-4c42-a31f-e271019ae122"}],"parameters":[{"name":"Attribute","value":"State"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":998,"y":197},"conditionMetadata":[{"id":"7a6c8d62-3d48-4cae-9e8d-10f4c42d4beb","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"unknown"}]}},{"id":"26a3e6b8-86e9-4359-9df0-6177ba7ab410","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"35c77601-311e-4e0b-85a5-883381ac2655"},{"condition":"Error","transition":"431f29e2-cca7-44e4-a449-90a38c2d327b"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:613062595008:function:covid-19-call-center-dev-getcoviddata","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"zipcode","value":"Stored customer input","namespace":"System"}],"metadata":{"position":{"x":757,"y":5},"dynamicMetadata":{"zipcode":true},"useDynamic":false},"target":"Lambda"},{"id":"d1051062-c47a-471a-8b93-f2d0822edfd9","type":"SetAttributes","branches":[{"condition":"Success","transition":"26a3e6b8-86e9-4359-9df0-6177ba7ab410"},{"condition":"Error","transition":"431f29e2-cca7-44e4-a449-90a38c2d327b"}],"parameters":[{"name":"Attribute","value":"Stored customer input","key":"zipcode","namespace":"System"}],"metadata":{"position":{"x":450,"y":10}}},{"id":"431f29e2-cca7-44e4-a449-90a38c2d327b","type":"PlayPrompt","branches":[{"condition":"Success","transition":"1b9a1e90-a330-450b-85a9-dcad8ef3b045"}],"parameters":[{"name":"Text","value":"Sorry, we failed to find the state  by your zipcode.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":446,"y":477},"useDynamic":false}},{"id":"88469426-9903-490b-8a4c-119b51882077","type":"StoreUserInput","branches":[{"condition":"Success","transition":"d1051062-c47a-471a-8b93-f2d0822edfd9"},{"condition":"Error","transition":"431f29e2-cca7-44e4-a449-90a38c2d327b"}],"parameters":[{"name":"Text","value":"Please enter you zipcode","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"CustomerInputType","value":"Custom"},{"name":"Timeout","value":"8"},{"name":"MaxDigits","value":5},{"name":"EncryptEntry","value":false},{"name":"DisableCancel","value":false}],"metadata":{"position":{"x":165,"y":196},"useDynamic":false,"useDynamicForEncryptionKeys":true,"useDynamicForTerminatorDigits":false,"countryCodePrefix":"+1"}}],"version":"1","type":"contactFlow","start":"88469426-9903-490b-8a4c-119b51882077","metadata":{"entryPointPosition":{"x":15,"y":15},"snapToGrid":false,"name":"stage-1-getCovidDataByState","description":"Invokes a lambda function to determine information about the user.","type":"contactFlow","status":"published","hash":"076ec00aa318ae2dc7fa79d9e5dad065454e36d310a45a9476b11e04db44f36f"}}