{"modules":[{"id":"294d8f84-e2a8-4cb4-9734-7f9b4c2ad667","type":"CheckQueueStatus","branches":[{"condition":"CheckQueueTime","conditionType":"LessThan","conditionValue":180000,"transition":"b3c7cfa8-25ca-45ef-ab55-c44b3583efca"},{"condition":"NoMatch","transition":"c527d171-009c-4629-8297-b8d35a6aecce"},{"condition":"Error","transition":"c527d171-009c-4629-8297-b8d35a6aecce"}],"parameters":[],"metadata":{"position":{"x":154,"y":268},"conditionMetadata":[{"id":"e960e89d-2f56-40c6-bbd7-e058d1009b65","attribute":{"name":"Time in Queue","value":"Time in Queue"},"operator":{"name":"Is less than","value":"LessThan","shortDisplay":"<"},"value":"3","time":"min."}],"queue":null,"useDynamic":false}},{"id":"b3c7cfa8-25ca-45ef-ab55-c44b3583efca","type":"PlayPrompt","branches":[{"condition":"Success","transition":"b450d44c-06a7-45f1-bd0a-ddd78f6d1d6f"}],"parameters":[{"name":"Text","value":"Please note that the wait time is less than 3 minutes.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":400,"y":144},"useDynamic":false}},{"id":"c527d171-009c-4629-8297-b8d35a6aecce","type":"PlayPrompt","branches":[{"condition":"Success","transition":"b450d44c-06a7-45f1-bd0a-ddd78f6d1d6f"}],"parameters":[{"name":"Text","value":"Wait time is greater than 3 mins","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":392,"y":498},"useDynamic":false}},{"id":"b450d44c-06a7-45f1-bd0a-ddd78f6d1d6f","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"898bbcb6-aed5-4bd3-b266-81a8a74a7f79"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"2","transition":"b88005a2-f2e5-453e-9e58-a0c0474824e2"},{"condition":"Timeout","transition":"b6fdda50-293c-4082-8f1f-48ebe66b8775"},{"condition":"NoMatch","transition":"b6fdda50-293c-4082-8f1f-48ebe66b8775"},{"condition":"Error","transition":"b6fdda50-293c-4082-8f1f-48ebe66b8775"}],"parameters":[{"name":"Text","value":"Press 1 if you like to continue,  press 2 if you like a callback","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":652,"y":187},"conditionMetadata":[{"id":"38c1b8eb-f6e7-47ed-8f10-39511e7b93dc","value":"1"},{"id":"795d8d6a-f215-403a-b2cd-d3993ceb34ed","value":"2"}],"useDynamic":false},"target":"Digits"},{"id":"b88005a2-f2e5-453e-9e58-a0c0474824e2","type":"StoreUserInput","branches":[{"condition":"Success","transition":"2abdbe47-f48c-4113-adb9-511d34caffa8"},{"condition":"InvalidNumber","transition":"b6fdda50-293c-4082-8f1f-48ebe66b8775"},{"condition":"Error","transition":"b6fdda50-293c-4082-8f1f-48ebe66b8775"}],"parameters":[{"name":"Text","value":"Please enter the 10 digits number you would like to be called back. Starting with the area code","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"CustomerInputType","value":"PhoneNumber"},{"name":"Timeout","value":"5"},{"name":"PhoneNumberFormat","value":"Local"},{"name":"CountryCode","value":"US"}],"metadata":{"position":{"x":1050,"y":301},"useDynamic":false,"useDynamicForEncryptionKeys":true,"useDynamicForTerminatorDigits":false,"countryCodePrefix":"+1"}},{"id":"2abdbe47-f48c-4113-adb9-511d34caffa8","type":"SetAttributes","branches":[{"condition":"Success","transition":"2b6a80e6-d0a4-43bc-994b-d7e881ee942f"},{"condition":"Error","transition":"b6fdda50-293c-4082-8f1f-48ebe66b8775"}],"parameters":[{"name":"Attribute","value":"Stored customer input","key":"callbacknum","namespace":"System"}],"metadata":{"position":{"x":1362,"y":327}}},{"id":"b4d86023-f8a6-4ea8-a154-78a4dfc4d223","type":"Transfer","branches":[{"condition":"AtCapacity","transition":"0eb29da8-ce94-41ff-8928-1ee97fe4b2e5"},{"condition":"Error","transition":"0eb29da8-ce94-41ff-8928-1ee97fe4b2e5"}],"parameters":[],"metadata":{"position":{"x":1381,"y":15},"useDynamic":false,"queue":null},"target":"Queue"},{"id":"0eb29da8-ce94-41ff-8928-1ee97fe4b2e5","type":"PlayPrompt","branches":[{"condition":"Success","transition":"34a8bf91-0441-4880-a014-45dc0fb796ef"}],"parameters":[{"name":"Text","value":"An unexpected error has occurred. Please try again.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1729,"y":18},"useDynamic":false}},{"id":"898bbcb6-aed5-4bd3-b266-81a8a74a7f79","type":"SetEventHook","branches":[{"condition":"Success","transition":"b4d86023-f8a6-4ea8-a154-78a4dfc4d223"},{"condition":"Error","transition":"34a8bf91-0441-4880-a014-45dc0fb796ef"}],"parameters":[{"name":"Type","value":"CustomerQueue"},{"name":"ContactFlowId","value":"arn:aws:connect:us-east-1:613062595008:instance/d808c6ca-1bee-44ee-be2b-12c5fa45c577/contact-flow/5775efc0-fb3e-46c2-8b60-b8d6aca69c6a","resourceName":"Default customer queue"}],"metadata":{"position":{"x":1002,"y":93},"contactFlow":{"id":"arn:aws:connect:us-east-1:613062595008:instance/d808c6ca-1bee-44ee-be2b-12c5fa45c577/contact-flow/5775efc0-fb3e-46c2-8b60-b8d6aca69c6a","text":"Default customer queue"},"customerOrAgent":true,"useDynamic":false}},{"id":"2b6a80e6-d0a4-43bc-994b-d7e881ee942f","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"078bcd37-1058-44b1-9b94-b90ad9e77d54"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"2","transition":"b88005a2-f2e5-453e-9e58-a0c0474824e2"},{"condition":"Timeout","transition":"34a8bf91-0441-4880-a014-45dc0fb796ef"},{"condition":"NoMatch","transition":"34a8bf91-0441-4880-a014-45dc0fb796ef"},{"condition":"Error","transition":"34a8bf91-0441-4880-a014-45dc0fb796ef"}],"parameters":[{"name":"Text","value":"<speak>the number you enter was,  <say-as interpret-as=\"telephone\">$.Attributes.callbacknum</say-as>.  Please press 1, to confirm, or  Press 2, to re-enter</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":1718,"y":234},"conditionMetadata":[{"id":"7df59319-092c-41da-9aa9-e042be52616d","value":"1"},{"id":"a1e5772a-5d31-438a-ad29-7c27e72f2fa2","value":"2"}],"useDynamic":false},"target":"Digits"},{"id":"b6fdda50-293c-4082-8f1f-48ebe66b8775","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1691,"y":625}}},{"id":"078bcd37-1058-44b1-9b94-b90ad9e77d54","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"82115133-f877-491a-bf3c-b2ab079b8fa5"},{"condition":"Error","transition":"5ec9bbbf-244a-4c86-be4e-0099794c88e1"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:613062595008:function:covid-19-call-center-dev-insertcallbacknumber","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"callbacknum","value":"Stored customer input","namespace":"System"}],"metadata":{"position":{"x":1938,"y":668},"dynamicMetadata":{"callbacknum":true},"useDynamic":false},"target":"Lambda"},{"id":"5ec9bbbf-244a-4c86-be4e-0099794c88e1","type":"PlayPrompt","branches":[{"condition":"Success","transition":"b6fdda50-293c-4082-8f1f-48ebe66b8775"}],"parameters":[{"name":"Text","value":"We apologized. We are currently experiencing technical difficulties. Please try calling again soon.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1840,"y":923},"useDynamic":false}},{"id":"34a8bf91-0441-4880-a014-45dc0fb796ef","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2002,"y":37}}},{"id":"82115133-f877-491a-bf3c-b2ab079b8fa5","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"c7f53bbd-2711-4545-b220-34a87734555b"},{"condition":"Timeout","transition":"9a3a328c-8905-4308-a695-d3e339f1c6ca"},{"condition":"NoMatch","transition":"9a3a328c-8905-4308-a695-d3e339f1c6ca"},{"condition":"Error","transition":"9a3a328c-8905-4308-a695-d3e339f1c6ca"}],"parameters":[{"name":"Text","value":"If the phone you enter is a mobile phone and you like a confirmation text, press 1","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":2019,"y":182},"conditionMetadata":[{"id":"07522fc3-97c4-44c0-8092-6ded9b84fcbd","value":"1"}],"useDynamic":false},"target":"Digits"},{"id":"9a3a328c-8905-4308-a695-d3e339f1c6ca","type":"PlayPrompt","branches":[{"condition":"Success","transition":"34a8bf91-0441-4880-a014-45dc0fb796ef"}],"parameters":[{"name":"Text","value":"We will be calling you soon. Thank you for calling.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2277,"y":63},"useDynamic":false}},{"id":"c7f53bbd-2711-4545-b220-34a87734555b","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"9a3a328c-8905-4308-a695-d3e339f1c6ca"},{"condition":"Error","transition":"8cc5ba9b-fef2-4cbe-a307-89db97a779e6"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:613062595008:function:covid-19-call-center-dev-sendsns","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"callbacknum","value":"Stored customer input","namespace":"System"}],"metadata":{"position":{"x":2210,"y":498},"dynamicMetadata":{"callbacknum":true},"useDynamic":false},"target":"Lambda"},{"id":"8cc5ba9b-fef2-4cbe-a307-89db97a779e6","type":"PlayPrompt","branches":[{"condition":"Success","transition":"9a3a328c-8905-4308-a695-d3e339f1c6ca"}],"parameters":[{"name":"Text","value":"Sorry. We are unable to send you an confirmation text.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2196,"y":770},"useDynamic":false}}],"version":"1","type":"contactFlow","start":"294d8f84-e2a8-4cb4-9734-7f9b4c2ad667","metadata":{"entryPointPosition":{"x":15,"y":101},"snapToGrid":false,"name":"stage3-enter-showing-symptoms-queue","description":null,"type":"contactFlow","status":"published","hash":"4a96e9afb42a19b9f6a679af41968c60188677271a0fe901f770035792943ac7"}}